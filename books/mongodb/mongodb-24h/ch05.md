# [第 5 章 在 MongoDB shell 中管理数据库和集合](https://mrhuangyuhui.gitee.io/books/rTSFcF_files/text/part0012.html)

## 5.2 管理数据库

### 5.2.1 显示数据库列表

```bash
> show dbs
```

### 5.2.2 切换到其他数据库

```bash
> use testDB
# 或
> db = db.getSiblingDB('testDB')
```

### 5.2.3 创建数据库

MongoDB 没有提供显式创建数据库的命令，数据库是在添加集合或用户时隐式创建的。

```bash
# 如果数据库不存在则自动创建
> use newDB
> db.createCollection("newCollection")
```

```js
mongo = new Mongo("localhost")
newDB = mongo.getDB("newDB")
newDB.createCollection("newCollection")
```

```bash
# 验证创建结果
> show dbs
```

### 5.2.4 删除数据库

```bash
> use newDB
> db.dropDatabase()
```

```js
mongo = new Mongo("localhost")
myDB = mongo.getDB("newDB")
myDB.dropDatabase()
```

显示数据库的统计信息

```js
mongo = new Mongo("localhost")
myDB = mongo.getDB("admin")
stats = myDB.stats()
printjson(stats)
```

## 5.3 管理集合

### 5.3.1 显示数据库的集合列表

```bash
> use test
> show collections
> collectionNames = db.getCollectionNames()
```

### 5.3.2 创建集合

```bash
> use testDB
> db.createCollection("newCollection")
> db.createCollection("newCollection", { autoIndexID: false })
```

```js
mongo = new Mongo("localhost")
newDB = mongo.getDB("newDB")
collections = newDB.getCollectionNames()
print("Initial Collections:")
printjson(collections)
newDB.createCollection("newCollectionA")
newDB.createCollection("newCollectionB")
print("After Collection Creation:")
collections = newDB.getCollectionNames()
printjson(collections)
```

### 5.3.3 删除集合

```bash
> use testDB
> db.newCollection.drop()
# 或
> coll = db.getCollection("newCollection")
> coll.drop()
```

```js
mongo = new Mongo("localhost")
myDB = mongo.getDB("newDB")
collections = myDB.getCollectionNames()
print("Initial Collections:")
printjson(collections)
collection = myDB.getCollection("newCollectionA")
collection.drop()
print("After Deleting newCollectionA:")
collections = myDB.getCollectionNames()
printjson(collections)
collection = myDB.getCollection("newCollectionB")
collection.drop()
print("After Deleting newCollectionB:")
collections = myDB.getCollectionNames()
printjson(collections)
```

## 5.4 实现示例数据集

```bash
mongo generate_words.js
```